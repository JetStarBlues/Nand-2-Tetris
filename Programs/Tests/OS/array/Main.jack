class Main {

	function void main() {

		var Array r;                  // stores test results
		var Array a, b, c;
		var String s;
		var int i;

		let r = 8000;

		let a = Array.new(3);
		let a[2] = 222;
		let r[0] = a[2];              // RAM[8000] = 222

		let b = Array.new(3);
		let b[1] = a[2] - 100;
		let r[1] = b[1];              // RAM[8001] = 122

		let c = Array.new(500);
		let c[499] = a[2] - b[1];
		let r[2] = c[499];            // RAM[8002] = 100

		// printInt causes allocation via String.new(). Keep this in mind when viewing uninitialized contents.
		GFX.printInt( a ); GFX.printChar( ' ' ); a.printAsInts(); GFX.printChar( ' ' ); GFX.printInt( r[0] ); GFX.println();
		GFX.printInt( b ); GFX.printChar( ' ' ); b.printAsInts(); GFX.printChar( ' ' ); GFX.printInt( r[1] ); GFX.println();
		// GFX.printInt( c ); GFX.printChar( ' ' ); c.printAsInts(); GFX.printChar( ' ' ); GFX.printInt( r[2] ); GFX.println();
		GFX.printInt( r[2] ); GFX.println();

		do a.dispose();
		do b.dispose();

		let b = Array.new(3);
		let b[0] = c[499] - 90;
		let r[3] = b[0];              // RAM[8003] = 10

		GFX.printInt( b ); GFX.printChar( ' ' ); b.printAsInts(); GFX.printChar( ' ' ); GFX.printInt( r[3] ); GFX.println();


		// Test Array.length() ---
		GFX.printString( "c has a length of " );
		GFX.printInt( c.length() );
		GFX.println();

		do c.dispose();
		do b.dispose();

		// GFX.printInt( c.length() );
		// GFX.println();


		// Test Array.print() ---
		a = Array.new( 15 );

		s = "pants-are--cool";
		for ( i = 0; i < s.length(); i += 1 ) {

			a[i] = s.charAt( i );
		}

		a.printAsChars(); GFX.println();


		// Test Array.slice() ---
		b = a.slice( 0, 4 );               // "pant"
		b.printAsChars(); GFX.println();
		b.dispose();
		b = a.slice( 0, a.length() );      // "pants-are--cool"
		b.printAsChars(); GFX.println();
		b.dispose();
		b = a.slice( - a.length(), - 4 );  // "pants-are--"
		b.printAsChars(); GFX.println();
		b.dispose();
		b = a.slice( 0, - 4 );             // "pants-are--"
		b.printAsChars(); GFX.println();
		b.dispose();
		b = a.slice( - 10, - 4 );          // "-are--"
		b.printAsChars(); GFX.println();
		b.dispose();
		b = a.slice( 2, 7 );               // "nts-a"
		b.printAsChars(); GFX.println();
		b.dispose();

		s.dispose();


		s = "A sample string";
		for ( i = 0; i < s.length(); i += 1 ) {

			a[i] = s.charAt( i );
		}

		b = a.slice( - 4 ,   25 );  // "ring"
		b.printAsChars(); GFX.println();
		b.dispose();
		b = a.slice( - 4 , - 1  );  // "rin"
		b.printAsChars(); GFX.println();
		b.dispose();
		b = a.slice( - 4 , - 10 );  // ??
		b.printAsChars(); GFX.println();
		// b.dispose();
		b = a.slice(   11,   15 );  // "ring"
		b.printAsChars(); GFX.println();
		b.dispose();
		b = a.slice(   11,   14 );  // "rin"
		b.printAsChars(); GFX.println();
		b.dispose();
		b = a.slice(   11,   0  );  // ??
		b.printAsChars(); GFX.println();
		// b.dispose();
		b = a.slice(  - 4,   14 );  // "rin"
		b.printAsChars(); GFX.println();
		b.dispose();

		return;
	}

}